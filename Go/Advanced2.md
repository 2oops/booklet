**Go Advanced2**

***

**Golang并发**

1. Go 语言通过编译器运行时（runtime），从语言上支持了并发的特性，由goroutine特性完成，**goroutine由语言运行时调度完成，而线程是由操作系统调度完成**，此外，Go 语言还提供 **channel** 在多个 goroutine 间进行通信。goroutine和channel是golang秉承并发模式的重要实现基础。

2. go从语言层面就支持并发，同时实现了自动垃圾回收机制

   进程和线程：

   进程是程序在操作系统中的一次执行过程，系统进行资源分配和调度的一个独立单位

   线程是进程的一个执行实体，是CPU调度和分派的基本单位

   并发和并行：

   多线程在单核CPU上运行，称为并发（主要通过切换时间片来实现“同时”运行）

   多线程程序在多核CPU上运行，称为并行

   协程和线程：

   协程：独立的栈空间，共享堆空间，调度由用户自己控制

   线程：一个线程上可以跑多个协程，协程是轻量级的线程

   **goroutine:**

   说到底就是线程，但是比线程小，十几个 goroutine 可能体现在底层就是五六个线程，而且Go语言内部也实现了 goroutine 之间的内存共享。

   **channel**（联想Unix管道）

   是go在语言级别提供的goroutine的通信方式，channel是进程内的通信方式，因此channel传递对象的方式和函数的传参方式基本是一致的，（可以传递指针等）

   如果需要跨进程通信，可以使用分布式系统的方法来解决，如使用HTTP/Socket，go对网络方面也有非常完善的支持

   并发程序的优点：

   - 客观表现问题模型
   - 充分利用CPU多核优势
   - 充分利用CPU与硬件固有的异步特性

3. 

   

   

   